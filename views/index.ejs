<%- include('partials/header.ejs') %>

<h1 class="text-cyan-400">Hello World!</h1>
<!-- <button formaction="/" formmethod="post">Redirect to home link</button> -->

<form method="get">
    <label for="submit">Login:</label>
    <input type="submit" formaction="/login">
    <label for="submit">Get Auth Token:</label>
    <input type="submit" formaction="/token">
</form>

<form action="/search" method="post">
    <label for="songQuery">Search for a song:</label>
    <input type="text" id="songQuery" name="songQuery">
    <label for="searchType">Select search type:</label>
    <select name="searchType" id="searchType">
        <option value="artist">Artist</option>
        <option value="album">Album</option>
        <option value="track">Song Name</option>
    </select>
    <label for="searchLimit">Limit:</label>
    <input type="number" name="searchLimit" id="searchLimit">
    <button type="submit">Search!</button>
</form>

<form action="/showBearer" method="post">
    <label for="submit">Show Bearer Token:</label>
    <input type="submit" formaction="/showBearer">
</form>

<% if (locals.data) { %>
    <% for(let i=0;i<data.length;i++) { %>
        <ul>
            <li>Song Name: <%=data[i].songName%></li>
            <li>Album Name: <%=data[i].albumName%></li>
            <li>Artists Name: <%=data[i].artistName%></li>
            <li>Song Run Time: <%=data[i].songRunTime%></li>
        </ul>
    <% } %>
<% } %>

<% if (locals.bearToken) { %>
    <h1>Your bearer token is: <%= bearToken %></h1>
<% } %>
    
<%- include('partials/footer.ejs') %>